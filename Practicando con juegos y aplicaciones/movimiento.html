<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>MOVIMIENTO</title>
	</head>
	<body>
		<canvas width="600" height="400"> </canvas>
		<script>
			let pantalla = document.querySelector("canvas");
			let pincel = pantalla.getContext("2d");
			pincel.fillStyle = "grey";
			pincel.fillRect(0, 0, 600, 400);

			function dibujarCirculo(x, y, r) {
				pincel.fillStyle = "blue";
				pincel.beginPath();
				pincel.arc(x, y, r, 0, 2 * Math.PI);
				pincel.fill();
			}

			function limpiarPantalla() {
				pincel.clearRect(0, 0, 600, 400);
				pincel.fillStyle = "grey";
				pincel.fillRect(0, 0, 600, 400);
			}

			let x = 0;
			let posicionAnterior = 0;

			function actualizarPantalla() {
				if (x == 600) {
					//evalua si llegó al final
					posicionAnterior = x;
					x--;
					limpiarPantalla();
					dibujarCirculo(x, 20, 10);
				} else if (x < posicionAnterior) {
					//si no está en el final, pero va de regreso
					if (x == 1) {
						posicionAnterior = 0;
						x = 0;
					}
					if (x > 0) {
						limpiarPantalla();
						dibujarCirculo(x, 20, 10);
						x--;
					}
				} else {
					//si no está al final y no va de regreso
					limpiarPantalla();
					dibujarCirculo(x, 20, 10);
					x++;
				}
			}

			setInterval(actualizarPantalla, 1);
		</script>
	</body>
</html>
